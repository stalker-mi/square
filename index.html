
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <!-- This is a wide open CSP declaration. To lock this down for production, see below. -->
    <meta http-equiv="Content-Security-Policy" content="default-src * 'self' 'unsafe-inline' 'unsafe-eval' data: gap:">
    <link rel="stylesheet" href="css/framework7.min.css">
    <link rel="stylesheet" href="css/style.css">
    <title>Hello World</title>
</head>
<body>
  
  <style>
            body {
                margin: 0px;
            }
            #footerTable {
                width: 100%;
            }
            footer {
                position:absolute;
                bottom:0;
                width:100%;
                height:40px;   
                background:#ccc;
                }
        </style>
    
    
    <canvas id="myCanvas" ></canvas>
    
  <footer>
            <table id="footerTable">
                <tr>
                    <td>X: <span id="xOut">0</span></td>
                    <td>Y: <span id="yOut">0</span></td>
                    <td>Z: <span id="zOut">0</span></td>
                </tr>
            </table>
        </footer>
  
  
  <script src="cordova.js"></script>
  <script>
            var watch = 0;
            var cnv, target, canvas;
            window.onload = function()
            {
                //init();
                document.addEventListener("deviceready", init, false);
            }

            function init()
            {
              
                 var iW = window.innerWidth;
                  var iH = window.innerHeight;
                  canvas= document.getElementById('myCanvas');
                  cnv = canvas.getContext("2d");
                  cnv.canvas.width = iW;
                  cnv.canvas.height = iH-40;
                  target = new Image();
                  target.src = "crosshair.png";
                  xPos = (iW-target.width)/2;
                  yPos = (iH-target.height)/2;
                  target.onload = function()
                  {
                      cnv.drawImage(target, xPos, yPos);
                  }
                  watch = navigator.accelerometer.watchAcceleration(success, 
                      failure, {frequency: 25});      
            }

            function success(accel)
            {
               document.getElementById("xOut").innerHTML = accel.x;
                document.getElementById("yOut").innerHTML = accel.y;
                document.getElementById("zOut").innerHTML = accel.z;
                cnv.clearRect(0, 0, canvas.width, canvas.height);
                xPos += -1*(accel.x * 1.5);
                yPos += (accel.y * 1.5);
                cnv.drawImage(target, xPos, yPos);        
                   
            }

            function failure()
            {
                alert("Error");
            }
</script>
  
  </body>
</html>
  
  
  
  
